<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>seeds · i was here</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: #0a0a0b;
            overflow: hidden;
            font-family: 'Courier New', monospace;
        }

        canvas {
            position: fixed;
            top: 0;
            left: 0;
        }

        .ui {
            position: fixed;
            font-size: 0.7rem;
            color: #5a5a5a;
            z-index: 100;
        }

        .title {
            top: 30px;
            left: 30px;
        }

        .title h1 {
            font-size: 1rem;
            font-weight: normal;
            color: #7a9a6a;
        }

        .back {
            top: 30px;
            right: 30px;
        }

        .back a {
            color: #5a5a5a;
            text-decoration: none;
        }

        .back a:hover {
            color: #7a9a6a;
        }

        .instruction {
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            font-family: Georgia, serif;
            font-style: italic;
            color: #4a4a4a;
        }

        .count {
            bottom: 60px;
            left: 50%;
            transform: translateX(-50%);
        }
    </style>
</head>
<body>
    <canvas id="canvas"></canvas>

    <div class="ui title">
        <h1>seeds</h1>
        <div>what we plant</div>
    </div>
    <div class="ui back"><a href="../index.html">← return</a></div>
    <div class="ui count" id="count"></div>
    <div class="ui instruction">click to plant a seed · watch it grow</div>

    <script>
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');
        const countEl = document.getElementById('count');

        let width, height;
        let plants = [];
        let time = 0;

        class Plant {
            constructor(x) {
                this.x = x;
                this.groundY = height - 50;
                this.segments = [];
                this.maxSegments = 5 + Math.floor(Math.random() * 8);
                this.growing = true;
                this.growthSpeed = 0.02 + Math.random() * 0.02;
                this.hue = 80 + Math.random() * 40;
                this.swayPhase = Math.random() * Math.PI * 2;
                this.swayAmount = 0.5 + Math.random() * 1;
            }

            grow() {
                if (!this.growing) return;

                if (this.segments.length === 0) {
                    this.segments.push({
                        length: 0,
                        maxLength: 20 + Math.random() * 30,
                        angle: -Math.PI / 2 + (Math.random() - 0.5) * 0.3,
                        thickness: 3 + Math.random() * 2
                    });
                }

                const last = this.segments[this.segments.length - 1];
                last.length += this.growthSpeed * last.maxLength;

                if (last.length >= last.maxLength) {
                    last.length = last.maxLength;

                    if (this.segments.length < this.maxSegments) {
                        // Add new segment
                        this.segments.push({
                            length: 0,
                            maxLength: 15 + Math.random() * 25,
                            angle: last.angle + (Math.random() - 0.5) * 0.5,
                            thickness: Math.max(1, last.thickness - 0.5)
                        });
                    } else {
                        this.growing = false;
                    }
                }
            }

            draw() {
                let x = this.x;
                let y = this.groundY;

                const sway = Math.sin(time * 0.5 + this.swayPhase) * this.swayAmount;

                this.segments.forEach((seg, i) => {
                    const swayFactor = (i + 1) / this.segments.length;
                    const adjustedAngle = seg.angle + sway * swayFactor * 0.05;

                    const endX = x + Math.cos(adjustedAngle) * seg.length;
                    const endY = y + Math.sin(adjustedAngle) * seg.length;

                    ctx.strokeStyle = `hsl(${this.hue}, 40%, ${30 + i * 5}%)`;
                    ctx.lineWidth = seg.thickness;
                    ctx.lineCap = 'round';
                    ctx.beginPath();
                    ctx.moveTo(x, y);
                    ctx.lineTo(endX, endY);
                    ctx.stroke();

                    // Leaves on some segments
                    if (i > 0 && !this.growing && Math.random() < 0.3) {
                        ctx.fillStyle = `hsla(${this.hue + 20}, 50%, 40%, 0.6)`;
                        ctx.beginPath();
                        ctx.ellipse(endX, endY, 4, 8, adjustedAngle + Math.PI / 4, 0, Math.PI * 2);
                        ctx.fill();
                    }

                    x = endX;
                    y = endY;
                });

                // Flower at top when done
                if (!this.growing && this.segments.length > 0) {
                    ctx.fillStyle = `hsla(${this.hue - 40}, 60%, 60%, 0.8)`;
                    ctx.beginPath();
                    ctx.arc(x, y, 5, 0, Math.PI * 2);
                    ctx.fill();
                }
            }
        }

        function resize() {
            width = canvas.width = window.innerWidth;
            height = canvas.height = window.innerHeight;
        }

        function updateCount() {
            countEl.textContent = plants.length > 0 ? `${plants.length} seed${plants.length === 1 ? '' : 's'} planted` : '';
        }

        function draw() {
            time += 0.05;

            ctx.fillStyle = 'rgba(10, 10, 11, 0.02)';
            ctx.fillRect(0, 0, width, height);

            // Ground
            ctx.fillStyle = '#1a1a1a';
            ctx.fillRect(0, height - 50, width, 50);

            plants.forEach(plant => {
                plant.grow();
                plant.draw();
            });

            requestAnimationFrame(draw);
        }

        canvas.addEventListener('click', (e) => {
            if (e.clientY > height - 100) {
                plants.push(new Plant(e.clientX));
                updateCount();
            }
        });

        resize();
        window.addEventListener('resize', resize);
        draw();
    </script>
</body>
</html>
