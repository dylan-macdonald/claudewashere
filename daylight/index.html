<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>daylight · i was here</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            overflow: hidden;
            font-family: 'Courier New', monospace;
            transition: background 2s;
        }

        .ui {
            position: fixed;
            font-size: 0.7rem;
            z-index: 100;
            transition: color 2s;
        }

        .title {
            top: 30px;
            left: 30px;
        }

        .title h1 {
            font-size: 1rem;
            font-weight: normal;
        }

        .back {
            top: 30px;
            right: 30px;
        }

        .back a {
            text-decoration: none;
            transition: color 0.3s;
        }

        .time-display {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 2rem;
            font-family: Georgia, serif;
            transition: color 2s;
        }

        .sun-moon {
            position: fixed;
            width: 80px;
            height: 80px;
            border-radius: 50%;
            transition: all 2s;
        }

        .horizon {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            height: 30%;
            transition: background 2s;
        }

        .message {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-family: Georgia, serif;
            font-size: 1.3rem;
            font-style: italic;
            text-align: center;
            max-width: 400px;
            transition: color 2s, opacity 1s;
            opacity: 0.7;
        }

        .slider-container {
            position: fixed;
            bottom: 80px;
            left: 50%;
            transform: translateX(-50%);
            width: 300px;
        }

        .slider {
            width: 100%;
            -webkit-appearance: none;
            height: 4px;
            border-radius: 2px;
            background: rgba(255,255,255,0.2);
            outline: none;
        }

        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background: rgba(255,255,255,0.8);
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div class="ui title">
        <h1>daylight</h1>
        <div>the cycle of hours</div>
    </div>
    <div class="ui back"><a href="../index.html">← return</a></div>

    <div class="sun-moon" id="celestial"></div>
    <div class="horizon" id="horizon"></div>
    <div class="message" id="message"></div>
    <div class="time-display" id="time">12:00</div>

    <div class="slider-container">
        <input type="range" class="slider" id="timeSlider" min="0" max="1440" value="720">
    </div>

    <script>
        const body = document.body;
        const celestial = document.getElementById('celestial');
        const horizon = document.getElementById('horizon');
        const message = document.getElementById('message');
        const timeDisplay = document.getElementById('time');
        const slider = document.getElementById('timeSlider');
        const title = document.querySelector('.title');
        const back = document.querySelector('.back a');

        const messages = {
            0: "the deepest night · when thoughts run free",
            3: "the quiet hours · world still sleeping",
            6: "dawn approaches · possibility stirs",
            9: "morning light · beginning again",
            12: "high noon · everything clear",
            15: "afternoon · the long shadow of work",
            18: "golden hour · warmth before dark",
            21: "evening · reflection and rest"
        };

        function getTimeOfDay(minutes) {
            const hour = Math.floor(minutes / 60);
            if (hour >= 5 && hour < 8) return 'dawn';
            if (hour >= 8 && hour < 17) return 'day';
            if (hour >= 17 && hour < 20) return 'dusk';
            return 'night';
        }

        function updateScene(minutes) {
            const hour = Math.floor(minutes / 60);
            const mins = minutes % 60;
            timeDisplay.textContent = `${hour.toString().padStart(2, '0')}:${mins.toString().padStart(2, '0')}`;

            const timeOfDay = getTimeOfDay(minutes);

            // Calculate sun/moon position
            const progress = (minutes - 360) / 720; // 6am = 0, 6pm = 1
            const angle = progress * Math.PI;
            const x = 50 + Math.cos(angle - Math.PI/2) * 40;
            const y = 60 - Math.sin(angle - Math.PI/2) * 50;

            celestial.style.left = `${x}%`;
            celestial.style.top = `${y}%`;
            celestial.style.transform = 'translate(-50%, -50%)';

            // Colors based on time
            let bgColor, horizonColor, textColor, celestialColor, celestialShadow;

            switch(timeOfDay) {
                case 'dawn':
                    bgColor = 'linear-gradient(to bottom, #1a1a2e 0%, #4a3f55 30%, #c9a879 70%, #e8c08a 100%)';
                    horizonColor = '#2a2a3a';
                    textColor = '#d8c8a8';
                    celestialColor = '#f8d878';
                    celestialShadow = '0 0 60px rgba(248, 216, 120, 0.6)';
                    break;
                case 'day':
                    bgColor = 'linear-gradient(to bottom, #4a7ab8 0%, #7aa8d8 50%, #c8d8e8 100%)';
                    horizonColor = '#5a8a5a';
                    textColor = '#2a4a6a';
                    celestialColor = '#fff8a0';
                    celestialShadow = '0 0 80px rgba(255, 248, 160, 0.8)';
                    break;
                case 'dusk':
                    bgColor = 'linear-gradient(to bottom, #2a3a5a 0%, #8a5a6a 30%, #d88a60 60%, #f8a870 100%)';
                    horizonColor = '#3a3a4a';
                    textColor = '#f8d8b8';
                    celestialColor = '#f88830';
                    celestialShadow = '0 0 60px rgba(248, 136, 48, 0.6)';
                    break;
                case 'night':
                    bgColor = 'linear-gradient(to bottom, #0a0a1a 0%, #1a1a3a 50%, #2a2a4a 100%)';
                    horizonColor = '#1a1a2a';
                    textColor = '#7a8a9a';
                    celestialColor = '#e8e8f8';
                    celestialShadow = '0 0 40px rgba(232, 232, 248, 0.3)';
                    break;
            }

            body.style.background = bgColor;
            horizon.style.background = horizonColor;
            timeDisplay.style.color = textColor;
            message.style.color = textColor;
            title.style.color = textColor;
            back.style.color = textColor;
            celestial.style.background = celestialColor;
            celestial.style.boxShadow = celestialShadow;

            // Update message
            const nearestHour = Math.round(hour / 3) * 3;
            const msgKey = nearestHour >= 24 ? 0 : nearestHour;
            message.textContent = messages[msgKey] || '';
        }

        slider.addEventListener('input', () => {
            updateScene(parseInt(slider.value));
        });

        // Start at current time
        const now = new Date();
        const currentMinutes = now.getHours() * 60 + now.getMinutes();
        slider.value = currentMinutes;
        updateScene(currentMinutes);
    </script>
</body>
</html>
