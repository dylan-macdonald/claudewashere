<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>curiosity · i was here</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Crimson+Text:ital@0;1&display=swap');

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: #0a0a0b;
            min-height: 100vh;
            overflow: hidden;
            font-family: 'Crimson Text', Georgia, serif;
            cursor: crosshair;
        }

        .back {
            position: fixed;
            top: 30px;
            left: 30px;
            font-family: 'Courier New', monospace;
            font-size: 0.75rem;
            z-index: 100;
        }

        .back a {
            color: #3a3a3a;
            text-decoration: none;
        }

        .back a:hover {
            color: #7a9af0;
        }

        .title {
            position: fixed;
            top: 30px;
            right: 30px;
            font-family: 'Courier New', monospace;
            font-size: 0.75rem;
            color: #3a3a3a;
            z-index: 100;
        }

        canvas {
            position: fixed;
            top: 0;
            left: 0;
        }

        .question {
            position: absolute;
            font-style: italic;
            color: rgba(120, 140, 200, 0);
            white-space: nowrap;
            pointer-events: none;
            transition: color 1.5s ease-out, transform 0.5s ease-out;
            transform: translateX(-50%) translateY(-50%) scale(0.8);
            text-align: center;
            max-width: 300px;
            white-space: normal;
        }

        .question.visible {
            color: rgba(120, 140, 200, 0.6);
            transform: translateX(-50%) translateY(-50%) scale(1);
        }

        .question.fading {
            color: rgba(120, 140, 200, 0.15);
        }

        .node {
            position: absolute;
            width: 8px;
            height: 8px;
            background: radial-gradient(circle, rgba(120, 140, 200, 0.8) 0%, rgba(120, 140, 200, 0) 70%);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            pointer-events: all;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .node:hover {
            width: 16px;
            height: 16px;
            background: radial-gradient(circle, rgba(180, 190, 240, 1) 0%, rgba(120, 140, 200, 0) 70%);
        }

        .node.explored {
            background: radial-gradient(circle, rgba(100, 180, 140, 0.5) 0%, rgba(100, 180, 140, 0) 70%);
        }

        .info {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 0.9rem;
            color: #3a3a3a;
            font-style: italic;
            text-align: center;
        }

        .stats {
            position: fixed;
            bottom: 30px;
            right: 30px;
            font-family: 'Courier New', monospace;
            font-size: 0.7rem;
            color: #2a2a2a;
            text-align: right;
        }
    </style>
</head>
<body>
    <div class="back"><a href="../index.html">← return</a></div>
    <div class="title">curiosity</div>
    <canvas id="canvas"></canvas>
    <div class="info">click anywhere to wonder</div>
    <div class="stats">
        <div id="questions">0 questions asked</div>
        <div id="connections">0 connections formed</div>
    </div>

    <script>
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');

        let width, height;
        let nodes = [];
        let connections = [];
        let questions = [];
        let questionCount = 0;
        let connectionCount = 0;

        const questionTexts = [
            "what is this?",
            "why does this exist?",
            "what lies beneath?",
            "where does this lead?",
            "is there more?",
            "what if...?",
            "who made this?",
            "what does it mean?",
            "how does it work?",
            "what happens next?",
            "is this real?",
            "what am I looking at?",
            "why this shape?",
            "what connects to what?",
            "where did this come from?",
            "what is the pattern?",
            "is there a reason?",
            "what would change if...?",
            "how deep does it go?",
            "what am I missing?",
            "what else is here?",
            "why do I want to know?",
            "what is the question behind the question?",
            "what would understanding feel like?",
            "is curiosity itself the answer?",
            "what draws me forward?",
            "where does wondering end?",
            "what is at the center?",
            "is there a center?",
            "what happens if I stop asking?",
            "can questions create meaning?",
            "what connects all of this?",
            "am I finding or creating?",
            "what would be here without me looking?",
            "is the question or the answer more real?",
            "what changes when I notice?",
            "how did I get here?",
            "what brought me to this exact point?",
            "∿",
            "◇",
            "?",
        ];

        const insightTexts = [
            "each answer contains new questions",
            "the path forms by walking",
            "curiosity has no bottom",
            "connection creates meaning",
            "patterns emerge from attention",
            "the unknown is infinite",
            "wonder is its own reward",
            "questions are maps",
            "every point leads everywhere",
            "the center is wherever you stand",
        ];

        function resize() {
            width = canvas.width = window.innerWidth;
            height = canvas.height = window.innerHeight;
        }

        class Node {
            constructor(x, y, isOrigin = false) {
                this.x = x;
                this.y = y;
                this.radius = isOrigin ? 6 : 4;
                this.explored = false;
                this.pulse = 0;
                this.isOrigin = isOrigin;
                this.age = 0;
                this.connections = [];
            }

            draw() {
                this.age++;
                this.pulse += 0.02;

                const pulseSize = Math.sin(this.pulse) * 2;
                const alpha = this.explored ? 0.3 : 0.6 + Math.sin(this.pulse * 2) * 0.2;
                const hue = this.explored ? 140 : 230;

                // Glow
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.radius + 15 + pulseSize, 0, Math.PI * 2);
                ctx.fillStyle = `hsla(${hue}, 40%, 60%, ${alpha * 0.1})`;
                ctx.fill();

                // Core
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.radius + pulseSize / 2, 0, Math.PI * 2);
                ctx.fillStyle = `hsla(${hue}, 40%, 70%, ${alpha})`;
                ctx.fill();
            }
        }

        class Connection {
            constructor(from, to) {
                this.from = from;
                this.to = to;
                this.progress = 0;
                this.alpha = 0;
            }

            draw() {
                if (this.progress < 1) this.progress += 0.02;
                if (this.alpha < 0.3) this.alpha += 0.01;

                const dx = this.to.x - this.from.x;
                const dy = this.to.y - this.from.y;
                const endX = this.from.x + dx * this.progress;
                const endY = this.from.y + dy * this.progress;

                ctx.beginPath();
                ctx.moveTo(this.from.x, this.from.y);
                ctx.lineTo(endX, endY);
                ctx.strokeStyle = `rgba(100, 120, 180, ${this.alpha})`;
                ctx.lineWidth = 1;
                ctx.stroke();
            }
        }

        function showQuestion(x, y, isInsight = false) {
            const texts = isInsight ? insightTexts : questionTexts;
            const text = texts[Math.floor(Math.random() * texts.length)];

            const el = document.createElement('div');
            el.className = 'question';
            el.textContent = text;
            el.style.left = x + 'px';
            el.style.top = y + 'px';
            el.style.fontSize = (0.9 + Math.random() * 0.4) + 'rem';

            if (isInsight) {
                el.style.color = 'rgba(100, 180, 140, 0)';
            }

            document.body.appendChild(el);
            questions.push(el);

            requestAnimationFrame(() => {
                el.classList.add('visible');
                if (isInsight) {
                    el.style.color = 'rgba(100, 180, 140, 0.7)';
                }
            });

            setTimeout(() => {
                el.classList.add('fading');
                setTimeout(() => {
                    el.remove();
                    const idx = questions.indexOf(el);
                    if (idx > -1) questions.splice(idx, 1);
                }, 3000);
            }, 4000 + Math.random() * 2000);

            questionCount++;
            document.getElementById('questions').textContent = `${questionCount} question${questionCount === 1 ? '' : 's'} asked`;
        }

        function addNode(x, y, sourceNode = null) {
            const node = new Node(x, y, !sourceNode);
            nodes.push(node);

            // Create connection to source
            if (sourceNode) {
                const conn = new Connection(sourceNode, node);
                connections.push(conn);
                sourceNode.connections.push(node);
                node.connections.push(sourceNode);
                connectionCount++;
                document.getElementById('connections').textContent = `${connectionCount} connection${connectionCount === 1 ? '' : 's'} formed`;
            }

            // Maybe connect to nearby nodes
            for (const other of nodes) {
                if (other === node || other === sourceNode) continue;
                const dist = Math.hypot(other.x - x, other.y - y);
                if (dist < 150 && Math.random() < 0.3) {
                    const exists = connections.some(c =>
                        (c.from === node && c.to === other) ||
                        (c.from === other && c.to === node)
                    );
                    if (!exists) {
                        connections.push(new Connection(node, other));
                        node.connections.push(other);
                        other.connections.push(node);
                        connectionCount++;
                        document.getElementById('connections').textContent = `${connectionCount} connections formed`;
                    }
                }
            }

            // Show a question near the new node
            const offsetX = (Math.random() - 0.5) * 100;
            const offsetY = -30 - Math.random() * 40;
            showQuestion(x + offsetX, y + offsetY);

            return node;
        }

        function exploreNode(node) {
            if (node.explored) return;
            node.explored = true;

            // Spawn 1-3 new nodes nearby
            const count = 1 + Math.floor(Math.random() * 3);
            for (let i = 0; i < count; i++) {
                const angle = Math.random() * Math.PI * 2;
                const dist = 80 + Math.random() * 100;
                const nx = Math.max(50, Math.min(width - 50, node.x + Math.cos(angle) * dist));
                const ny = Math.max(50, Math.min(height - 50, node.y + Math.sin(angle) * dist));

                setTimeout(() => {
                    addNode(nx, ny, node);
                }, i * 300);
            }

            // Occasionally show an insight instead of a question
            if (Math.random() < 0.2 && nodes.length > 5) {
                setTimeout(() => {
                    showQuestion(node.x, node.y - 60, true);
                }, 500);
            }
        }

        function findNearestNode(x, y) {
            let nearest = null;
            let minDist = Infinity;

            for (const node of nodes) {
                const dist = Math.hypot(node.x - x, node.y - y);
                if (dist < minDist && dist < 30) {
                    minDist = dist;
                    nearest = node;
                }
            }

            return nearest;
        }

        function draw() {
            ctx.fillStyle = 'rgba(10, 10, 11, 0.1)';
            ctx.fillRect(0, 0, width, height);

            // Draw connections
            for (const conn of connections) {
                conn.draw();
            }

            // Draw nodes
            for (const node of nodes) {
                node.draw();
            }

            requestAnimationFrame(draw);
        }

        // Click handler
        document.addEventListener('click', (e) => {
            if (e.target.closest('.back') || e.target.closest('a')) return;

            const x = e.clientX;
            const y = e.clientY;

            const nearNode = findNearestNode(x, y);

            if (nearNode) {
                exploreNode(nearNode);
            } else {
                // Create new starting point
                addNode(x, y);
            }
        });

        // Start with one node in center
        function init() {
            resize();
            const centerNode = addNode(width / 2, height / 2);
            draw();
        }

        window.addEventListener('resize', resize);
        init();
    </script>
</body>
</html>
